<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:app="http://springfuse.jaxio.com/app">
	<app:outputLabel for="#{id}" value="#{label}" required="#{required}" rendered="#{rendered}" />
	<h:panelGroup id="#{id}OP" rendered="#{empty rendered or rendered}">
		<p:fileUpload id="#{id}"
			fileUploadListener="#{fileupload[action]}"
			auto="true"
			update="#{id}OP"
			sizeLimit="10000000"
			allowTypes="/(\.|\/)(xml|zip|tgz|html|gif|jpg|jpeg|png|txt|doc|docx|rtf|ppt|pptx|pdf|epub|key|xls|xlsx|number|pages)$/"
			rendered="#{!readonly}" />
		<h:commandLink
   			rendered="#{not empty stream}"
   			value="#{empty object[filename] ? resourcesUtil.getProperty('download') : object[filename]}" disabled="#{not object.idSet}"><p:fileDownload value="#{stream}" /></h:commandLink>
		<h:outputText rendered="#{empty stream}" value="#{resourcesUtil.getProperty('null_file_value')}" />
		<p:tooltip for="#{id}" value="#{tooltip}" showEffect="slide" rendered="#{not empty tooltip}"/>
	</h:panelGroup>
</ui:composition>