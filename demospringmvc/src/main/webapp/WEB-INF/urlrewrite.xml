<?xml version="1.0" encoding="UTF-8"?>
<!--
 ! (c) Copyright 2005-2012 JAXIO, www.jaxio.com
 ! Source code generated by Celerio, a Jaxio product
 ! Want to use Celerio within your company? email us at info@jaxio.com
 ! Follow us on twitter: @springfuse
 ! Template pack-mvc-3-sd:src/main/webapp/WEB-INF/urlrewrite.p.vm.xml
-->
<!DOCTYPE urlrewrite PUBLIC "-//www.tuckey.org//DTD UrlRewrite 3.2//EN" "http://www.tuckey.org/res/dtds/urlrewrite3.2.dtd">
<!-- https://urlrewrite.dev.java.net/manual/3.0 -->
<urlrewrite>
	<rule>
		<from>^/favicon.ico$</from>
		<to last="true">/static/images/favicon.ico</to>
	</rule>
	<rule match-type="regex">
		<note>Serve static content directly from the filesystem and add caching instruction</note>
		<from>/static/(.*)</from>
		<set type="expires">5 days</set>
		<to last="true">/static/$1</to>
	</rule>
	<rule match-type="wildcard">
		<note>Direct access to the springMVC servlet should not be cached</note>
		<from>/app/**</from>
		<set name="Cache-Control" type="response-header">no-cache, no-store, max-age=0</set>
		<set name="Pragma" type="response-header">no-cache</set>
		<set name="Expires" type="response-header">0</set>
		<to>/app/$1</to>
	</rule>
	<rule match-type="wildcard">
		<note>Redirect all resources to the springMVC servlet, and do not cache the result</note>
		<from>/**</from>
		<set type="response-header" name="Cache-Control">no-cache, no-store, max-age=0</set>
		<set type="response-header" name="Pragma">no-cache</set>
		<set type="response-header" name="Expires">0</set>
		<to last="true">/app/$1</to>
	</rule>
	<outbound-rule match-type="wildcard">
		<note>Rewrite links with /app/xx to /xxx to have clean urls</note>
		<from>/app/**</from>
		<to>/$1</to>
	</outbound-rule>
</urlrewrite>

